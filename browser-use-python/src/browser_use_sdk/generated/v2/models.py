# generated by datamodel-codegen:
#   filename:  openapi.json

from __future__ import annotations

from enum import Enum
from typing import Any, Dict, List, Literal, Optional, Union
from uuid import UUID

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, conint, constr


class AccountNotFoundError(BaseModel):
    detail: Optional[str] = Field('Account not found', title='Detail')


class BrowserSessionStatus(Enum):
    active = 'active'
    stopped = 'stopped'


class BrowserSessionUpdateAction(Enum):
    stop = 'stop'


class BrowserSessionView(BaseModel):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    id: UUID = Field(..., description='Unique identifier for the session', title='ID')
    status: BrowserSessionStatus = Field(
        ...,
        description='Current status of the session (active/stopped)',
        title='Status',
    )
    liveUrl: Optional[str] = Field(
        None,
        description='URL where the browser can be viewed live in real-time',
        title='Live URL',
    )
    cdpUrl: Optional[str] = Field(
        None,
        description='Chrome DevTools Protocol URL for browser automation',
        title='CDP URL',
    )
    timeoutAt: AwareDatetime = Field(
        ..., description='Timestamp when the session will timeout', title='Timeout At'
    )
    startedAt: AwareDatetime = Field(
        ...,
        description='Timestamp when the session was created and started',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp when the session was stopped (None if still active)',
        title='Finished At',
    )
    proxyUsedMb: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Amount of proxy data used in MB', title='Proxy Used MB'
    )
    proxyCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of proxy usage in USD', title='Proxy Cost'
    )
    browserCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of browser session hosting in USD', title='Browser Cost'
    )


class CannotDeleteSkillWhileGeneratingError(BaseModel):
    detail: Optional[str] = Field(
        'Cannot delete skill while it is still generating', title='Detail'
    )


class CannotRollbackPublicSkillError(BaseModel):
    detail: Optional[str] = Field(
        'Cannot rollback a public skill. Please make the skill private first.',
        title='Detail',
    )


class ConcurrentSkillCreationsError(BaseModel):
    detail: Optional[str] = Field(
        'Concurrent skill creations are not allowed. Please wait for the current skill creation to finish or cancel it.',
        title='Detail',
    )


class CreateSkillRequest(BaseModel):
    title: Optional[constr(max_length=100)] = Field(
        None,
        description='Optional title for the skill (will be generated if not provided)',
        title='Title',
    )
    description: Optional[constr(max_length=1000)] = Field(
        None,
        description='Optional description for the skill (will be generated if not provided)',
        title='Description',
    )
    goal: constr(max_length=1000) = Field(
        ...,
        description='Goal of the skill (description of what the skill does and what the user should expect from it)',
        title='Goal',
    )
    agentPrompt: constr(min_length=10) = Field(
        ...,
        description='Prompt for the agent to use when generating the skill automatically',
        title='Agentprompt',
    )


class CreateSkillResponse(BaseModel):
    id: UUID = Field(
        ..., description='Unique identifier for the created skill', title='ID'
    )


class CustomProxy(BaseModel):
    host: constr(min_length=1, max_length=255) = Field(
        ..., description='Host of the proxy.', title='Host'
    )
    port: conint(ge=1, le=65535) = Field(
        ..., description='Port of the proxy.', title='Port'
    )
    username: Optional[constr(min_length=1, max_length=255)] = Field(
        None, description='Username for proxy authentication.', title='Username'
    )
    password: Optional[constr(min_length=1, max_length=255)] = Field(
        None, description='Password for proxy authentication.', title='Password'
    )


class DownloadUrlGenerationError(BaseModel):
    detail: Optional[str] = Field('Failed to generate download URL', title='Detail')


class EnabledSkillsLimitExceededError(BaseModel):
    detail: Optional[str] = Field(
        'Enabled skills limit exceeded for your plan', title='Detail'
    )


class ExecuteSkillRequest(BaseModel):
    parameters: Optional[Dict[str, Any]] = Field(
        None, description='Parameters to pass to the skill handler', title='Parameters'
    )
    sessionId: Optional[UUID] = Field(
        None,
        description='Optional session ID (UUID) for IP persistence.',
        title='Sessionid',
    )


class ExecuteSkillResponse(BaseModel):
    success: bool = Field(
        ..., description='Whether the skill execution was successful', title='Success'
    )
    result: Any = Field(
        None, description='Output of the skill execution', title='Result'
    )
    error: Optional[str] = Field(
        None, description='Error message if the skill execution failed', title='Error'
    )
    stderr: Optional[str] = Field(
        None, description='Standard error output of the skill execution', title='Stderr'
    )
    latencyMs: Optional[int] = Field(
        None,
        description='Latency of the skill execution in milliseconds',
        title='Latency in ms',
    )


class FileView(BaseModel):
    id: UUID = Field(
        ..., description='Unique identifier for the output file', title='ID'
    )
    fileName: str = Field(..., description='Name of the output file', title='File Name')


class GenerationNotCancellableError(BaseModel):
    detail: Optional[str] = Field('Generation is not cancellable', title='Detail')


class InsufficientCreditsError(BaseModel):
    detail: Optional[str] = Field('Insufficient credits', title='Detail')


class InternalServerError(BaseModel):
    detail: Optional[str] = Field('An internal server error occurred', title='Detail')


class OutputFileNotFoundError(BaseModel):
    detail: Optional[str] = Field('Output file not found', title='Detail')


class ParameterType(Enum):
    string = 'string'
    number = 'number'
    boolean = 'boolean'
    object = 'object'
    array = 'array'
    cookie = 'cookie'


class PlanInfo(BaseModel):
    planName: str = Field(..., description='The name of the plan', title='Plan Name')
    subscriptionStatus: Optional[str] = Field(
        ..., description='The status of the subscription', title='Subscription Status'
    )
    subscriptionId: Optional[str] = Field(
        ..., description='The ID of the subscription', title='Subscription ID'
    )
    subscriptionCurrentPeriodEnd: Optional[str] = Field(
        ...,
        description='The end of the current period',
        title='Subscription Current Period End',
    )
    subscriptionCanceledAt: Optional[str] = Field(
        ...,
        description='The date the subscription was canceled',
        title='Subscription Canceled At',
    )


class ProfileCreateRequest(BaseModel):
    name: Optional[constr(max_length=100)] = Field(
        None, description='Optional name for the profile', title='Name'
    )


class ProfileNotFoundError(BaseModel):
    detail: Optional[str] = Field('Profile not found', title='Detail')


class ProfileUpdateRequest(BaseModel):
    name: Optional[constr(max_length=100)] = Field(
        None, description='Optional name for the profile', title='Name'
    )


class ProfileView(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the profile', title='ID')
    name: Optional[str] = Field(
        None, description='Optional name for the profile', title='Name'
    )
    lastUsedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp when the profile was last used',
        title='Last Used At',
    )
    createdAt: AwareDatetime = Field(
        ..., description='Timestamp when the profile was created', title='Created At'
    )
    updatedAt: AwareDatetime = Field(
        ...,
        description='Timestamp when the profile was last updated',
        title='Updated At',
    )
    cookieDomains: Optional[List[str]] = Field(
        None,
        description='List of domain URLs that have cookies stored for this profile',
        title='Cookie Domains',
    )


class ProxyCountryCode(Enum):
    ad = 'ad'
    ae = 'ae'
    af = 'af'
    ag = 'ag'
    ai = 'ai'
    al = 'al'
    am = 'am'
    an = 'an'
    ao = 'ao'
    aq = 'aq'
    ar = 'ar'
    as_ = 'as'
    at = 'at'
    au = 'au'
    aw = 'aw'
    az = 'az'
    ba = 'ba'
    bb = 'bb'
    bd = 'bd'
    be = 'be'
    bf = 'bf'
    bg = 'bg'
    bh = 'bh'
    bi = 'bi'
    bj = 'bj'
    bl = 'bl'
    bm = 'bm'
    bn = 'bn'
    bo = 'bo'
    bq = 'bq'
    br = 'br'
    bs = 'bs'
    bt = 'bt'
    bv = 'bv'
    bw = 'bw'
    by = 'by'
    bz = 'bz'
    ca = 'ca'
    cc = 'cc'
    cd = 'cd'
    cf = 'cf'
    cg = 'cg'
    ch = 'ch'
    ck = 'ck'
    cl = 'cl'
    cm = 'cm'
    co = 'co'
    cr = 'cr'
    cs = 'cs'
    cu = 'cu'
    cv = 'cv'
    cw = 'cw'
    cx = 'cx'
    cy = 'cy'
    cz = 'cz'
    de = 'de'
    dj = 'dj'
    dk = 'dk'
    dm = 'dm'
    do = 'do'
    dz = 'dz'
    ec = 'ec'
    ee = 'ee'
    eg = 'eg'
    eh = 'eh'
    er = 'er'
    es = 'es'
    et = 'et'
    fi = 'fi'
    fj = 'fj'
    fk = 'fk'
    fm = 'fm'
    fo = 'fo'
    fr = 'fr'
    ga = 'ga'
    gd = 'gd'
    ge = 'ge'
    gf = 'gf'
    gg = 'gg'
    gh = 'gh'
    gi = 'gi'
    gl = 'gl'
    gm = 'gm'
    gn = 'gn'
    gp = 'gp'
    gq = 'gq'
    gr = 'gr'
    gs = 'gs'
    gt = 'gt'
    gu = 'gu'
    gw = 'gw'
    gy = 'gy'
    hk = 'hk'
    hm = 'hm'
    hn = 'hn'
    hr = 'hr'
    ht = 'ht'
    hu = 'hu'
    id = 'id'
    ie = 'ie'
    il = 'il'
    im = 'im'
    in_ = 'in'
    iq = 'iq'
    ir = 'ir'
    is_ = 'is'
    it = 'it'
    je = 'je'
    jm = 'jm'
    jo = 'jo'
    jp = 'jp'
    ke = 'ke'
    kg = 'kg'
    kh = 'kh'
    ki = 'ki'
    km = 'km'
    kn = 'kn'
    kp = 'kp'
    kr = 'kr'
    kw = 'kw'
    ky = 'ky'
    kz = 'kz'
    la = 'la'
    lb = 'lb'
    lc = 'lc'
    li = 'li'
    lk = 'lk'
    lr = 'lr'
    ls = 'ls'
    lt = 'lt'
    lu = 'lu'
    lv = 'lv'
    ly = 'ly'
    ma = 'ma'
    mc = 'mc'
    md = 'md'
    me = 'me'
    mf = 'mf'
    mg = 'mg'
    mh = 'mh'
    mk = 'mk'
    ml = 'ml'
    mm = 'mm'
    mn = 'mn'
    mo = 'mo'
    mp = 'mp'
    mq = 'mq'
    mr = 'mr'
    ms = 'ms'
    mt = 'mt'
    mu = 'mu'
    mv = 'mv'
    mw = 'mw'
    mx = 'mx'
    my = 'my'
    mz = 'mz'
    na = 'na'
    nc = 'nc'
    ne = 'ne'
    nf = 'nf'
    ng = 'ng'
    ni = 'ni'
    nl = 'nl'
    no = 'no'
    np = 'np'
    nr = 'nr'
    nu = 'nu'
    nz = 'nz'
    om = 'om'
    pa = 'pa'
    pe = 'pe'
    pf = 'pf'
    pg = 'pg'
    ph = 'ph'
    pk = 'pk'
    pl = 'pl'
    pm = 'pm'
    pn = 'pn'
    pr = 'pr'
    ps = 'ps'
    pt = 'pt'
    pw = 'pw'
    py = 'py'
    qa = 'qa'
    re = 're'
    ro = 'ro'
    rs = 'rs'
    ru = 'ru'
    rw = 'rw'
    sa = 'sa'
    sb = 'sb'
    sc = 'sc'
    sd = 'sd'
    se = 'se'
    sg = 'sg'
    sh = 'sh'
    si = 'si'
    sj = 'sj'
    sk = 'sk'
    sl = 'sl'
    sm = 'sm'
    sn = 'sn'
    so = 'so'
    sr = 'sr'
    ss = 'ss'
    st = 'st'
    sv = 'sv'
    sx = 'sx'
    sy = 'sy'
    sz = 'sz'
    tc = 'tc'
    td = 'td'
    tf = 'tf'
    tg = 'tg'
    th = 'th'
    tj = 'tj'
    tk = 'tk'
    tl = 'tl'
    tm = 'tm'
    tn = 'tn'
    to = 'to'
    tr = 'tr'
    tt = 'tt'
    tv = 'tv'
    tw = 'tw'
    tz = 'tz'
    ua = 'ua'
    ug = 'ug'
    uk = 'uk'
    us = 'us'
    uy = 'uy'
    uz = 'uz'
    va = 'va'
    vc = 'vc'
    ve = 've'
    vg = 'vg'
    vi = 'vi'
    vn = 'vn'
    vu = 'vu'
    wf = 'wf'
    ws = 'ws'
    xk = 'xk'
    ye = 'ye'
    yt = 'yt'
    za = 'za'
    zm = 'zm'
    zw = 'zw'


class RefineSkillRequest(BaseModel):
    feedback: constr(min_length=10) = Field(
        ..., description='Feedback describing what to improve', title='Feedback'
    )
    testOutput: Optional[str] = Field(
        None,
        description='Last skill test output to include in refinement context',
        title='Testoutput',
    )
    testLogs: Optional[str] = Field(
        None,
        description='Last skill test logs to include in refinement context',
        title='Testlogs',
    )


class RefineSkillResponse(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the skill', title='ID')


class SessionHasRunningTaskError(BaseModel):
    detail: Optional[str] = Field(
        'Agent session already has a running task. Please wait for it to finish or stop it manually.',
        title='Detail',
    )


class SessionNotFoundError(BaseModel):
    detail: Optional[str] = Field('Session not found', title='Detail')


class SessionStatus(Enum):
    active = 'active'
    stopped = 'stopped'


class SessionStoppedError(BaseModel):
    detail: Optional[str] = Field(
        'Browser session is stopped. Please start a new session and try again.',
        title='Detail',
    )


class SessionTimeoutLimitExceededError(BaseModel):
    detail: Optional[str] = Field(
        'Maximum session timeout is 4 hours (240 minutes).', title='Detail'
    )


class SessionUpdateAction(Enum):
    stop = 'stop'


class ShareNotFoundError(BaseModel):
    detail: Optional[str] = Field('Public share not found', title='Detail')


class ShareView(BaseModel):
    shareToken: str = Field(
        ..., description='Token to access the public share', title='Share Token'
    )
    shareUrl: str = Field(
        ..., description='URL to access the public share', title='Share URL'
    )
    viewCount: int = Field(
        ...,
        description='Number of times the public share has been viewed',
        title='View Count',
    )
    lastViewedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp of the last time the public share was viewed (None if never viewed)',
        title='Last Viewed At',
    )


class SkillCategory(Enum):
    search = 'search'
    e_commerce = 'e_commerce'
    financial = 'financial'
    news = 'news'
    real_estate = 'real_estate'
    social_media = 'social_media'
    travel = 'travel'
    marketplace = 'marketplace'
    lead_generation = 'lead_generation'
    seo = 'seo'
    jobs = 'jobs'
    developer = 'developer'
    media = 'media'
    automation = 'automation'
    integration = 'integration'
    other = 'other'


class SkillExecutionOutputResponse(BaseModel):
    downloadUrl: str = Field(
        ...,
        description='Presigned URL for downloading the execution output (valid for 5 minutes)',
        title='Downloadurl',
    )


class SkillExecutionView(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the execution', title='Id')
    skillId: UUID = Field(
        ..., description='ID of the skill that was executed', title='Skillid'
    )
    status: str = Field(
        ..., description='Execution status (running, completed, failed)', title='Status'
    )
    success: bool = Field(
        ..., description='Whether the execution succeeded', title='Success'
    )
    startedAt: AwareDatetime = Field(
        ..., description='When the execution started', title='Startedat'
    )
    finishedAt: Optional[AwareDatetime] = Field(
        ..., description='When the execution finished', title='Finishedat'
    )
    latencyMs: Optional[int] = Field(
        ..., description='Execution latency in milliseconds', title='Latencyms'
    )
    hasOutput: bool = Field(
        ..., description='Whether output is available for download', title='Hasoutput'
    )


class SkillNotFinishedError(BaseModel):
    detail: Optional[str] = Field('Skill is not finished', title='Detail')


class SkillNotFoundError(BaseModel):
    detail: Optional[str] = Field('Skill not found', title='Detail')


class SkillsGenerationStatus(Enum):
    recording = 'recording'
    generating = 'generating'
    failed = 'failed'
    finished = 'finished'
    cancelled = 'cancelled'
    timed_out = 'timed_out'


class SupportedLLMs(Enum):
    browser_use_llm = 'browser-use-llm'
    browser_use_2_0 = 'browser-use-2.0'
    gpt_4_1 = 'gpt-4.1'
    gpt_4_1_mini = 'gpt-4.1-mini'
    o4_mini = 'o4-mini'
    o3 = 'o3'
    gemini_2_5_flash = 'gemini-2.5-flash'
    gemini_2_5_pro = 'gemini-2.5-pro'
    gemini_3_pro_preview = 'gemini-3-pro-preview'
    gemini_3_flash_preview = 'gemini-3-flash-preview'
    gemini_flash_latest = 'gemini-flash-latest'
    gemini_flash_lite_latest = 'gemini-flash-lite-latest'
    claude_sonnet_4_20250514 = 'claude-sonnet-4-20250514'
    claude_sonnet_4_5_20250929 = 'claude-sonnet-4-5-20250929'
    claude_opus_4_5_20251101 = 'claude-opus-4-5-20251101'
    gpt_4o = 'gpt-4o'
    gpt_4o_mini = 'gpt-4o-mini'
    llama_4_maverick_17b_128e_instruct = 'llama-4-maverick-17b-128e-instruct'
    claude_3_7_sonnet_20250219 = 'claude-3-7-sonnet-20250219'


class TaskCreatedResponse(BaseModel):
    id: UUID = Field(
        ..., description='Unique identifier for the created task', title='ID'
    )
    sessionId: UUID = Field(
        ..., description='Session ID where the task was created', title='Session ID'
    )


class TaskLogFileResponse(BaseModel):
    downloadUrl: str = Field(
        ..., description='URL to download the log file', title='Download URL'
    )


class TaskNotFoundError(BaseModel):
    detail: Optional[str] = Field('Task not found', title='Detail')


class TaskOutputFileResponse(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the file', title='ID')
    fileName: str = Field(..., description='Name of the file', title='File Name')
    downloadUrl: str = Field(
        ..., description='URL to download the file', title='Download URL'
    )


class TaskStatus(Enum):
    created = 'created'
    started = 'started'
    finished = 'finished'
    stopped = 'stopped'


class TaskStatusView(BaseModel):
    model_config = ConfigDict(regex_engine="python-re")

    id: UUID = Field(..., description='Unique identifier for the task', title='ID')
    status: TaskStatus = Field(
        ..., description='Current status of the task', title='Status'
    )
    output: Optional[str] = Field(
        None,
        description='Final output/result of the task (null while running)',
        title='Output',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Naive UTC timestamp when the task completed (null if still running)',
        title='Finished At',
    )
    isSuccess: Optional[bool] = Field(
        None,
        description="Whether the task was successful based on the agent's self-reported output",
        title='Is Success',
    )
    cost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        None, description='Total cost of the task in USD', title='Cost'
    )


class TaskStepView(BaseModel):
    number: int = Field(
        ..., description='Sequential step number within the task', title='Number'
    )
    memory: str = Field(..., description="Agent's memory at this step", title='Memory')
    evaluationPreviousGoal: str = Field(
        ...,
        description="Agent's evaluation of the previous goal completion",
        title='Evaluation Previous Goal',
    )
    nextGoal: str = Field(
        ..., description='The goal for the next step', title='Next Goal'
    )
    url: str = Field(
        ..., description='Current URL the browser is on for this step', title='URL'
    )
    screenshotUrl: Optional[str] = Field(
        None,
        description='Optional URL to the screenshot taken at this step',
        title='Screenshot URL',
    )
    actions: List[str] = Field(
        ...,
        description='List of stringified json actions performed by the agent in this step',
        title='Actions',
    )


class TaskUpdateAction(Enum):
    stop = 'stop'
    stop_task_and_session = 'stop_task_and_session'


class TaskView(BaseModel):
    model_config = ConfigDict(regex_engine="python-re")

    id: UUID = Field(..., description='Unique identifier for the task', title='ID')
    sessionId: UUID = Field(..., title='Sessionid')
    llm: str = Field(
        ...,
        description='The LLM model used for this task represented as a string',
        title='LLM',
    )
    task: str = Field(
        ..., description='The task prompt/instruction given to the agent', title='Task'
    )
    status: TaskStatus = Field(
        ..., description='Current status of the task execution', title='Status'
    )
    createdAt: AwareDatetime = Field(
        ...,
        description='Naive UTC timestamp when the task was created',
        title='Created At',
    )
    startedAt: Optional[AwareDatetime] = Field(
        None,
        description='Naive UTC timestamp when the task was started (None if task has not started yet)',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Naive UTC timestamp when the task completed (None if still running)',
        title='Finished At',
    )
    metadata: Optional[Dict[str, Any]] = Field(
        {},
        description='Optional additional metadata associated with the task set by the user',
        title='Metadata',
    )
    steps: List[TaskStepView] = Field(..., title='Steps')
    output: Optional[str] = Field(
        None, description='Final output/result of the task', title='Output'
    )
    outputFiles: List[FileView] = Field(..., title='Outputfiles')
    browserUseVersion: Optional[str] = Field(
        None,
        description='Version of browser-use used for this task (older tasks may not have this set)',
        title='Browser Use Version',
    )
    isSuccess: Optional[bool] = Field(
        None,
        description="Whether the task was successful based on the agent's self-reported output (less reliable than the judge)",
        title='Is Success',
    )
    judgement: Optional[str] = Field(
        None,
        description='Stringified JSON object containing the full report from the judge',
        title='Judgement',
    )
    judgeVerdict: Optional[bool] = Field(
        None,
        description='Judge verdict - True if the judge found the task to be successful, False otherwise (None if judge is not enabled)',
        title='Judge Verdict',
    )
    cost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        None,
        description='Total cost of the task in USD. This is the sum of all step costs incurred during task execution.',
        title='Cost',
    )
    suggestions: Optional[List[Dict[str, Any]]] = Field(
        None,
        description='List of actionable suggestions for improving task configuration based on detected issues during execution.',
        title='Suggestions',
    )


class TooManyConcurrentActiveSessionsError(BaseModel):
    detail: Optional[str] = Field(
        'Too many concurrent active sessions. Please wait for one to finish, kill one, or upgrade your plan.',
        title='Detail',
    )


class UnsupportedContentTypeError(BaseModel):
    detail: Optional[str] = Field('Unsupported content type', title='Detail')


class UpdateBrowserSessionRequest(BaseModel):
    action: BrowserSessionUpdateAction = Field(
        ..., description='The action to perform on the session', title='Action'
    )


class UpdateSessionRequest(BaseModel):
    action: SessionUpdateAction = Field(
        ..., description='The action to perform on the session', title='Action'
    )


class UpdateSkillRequest(BaseModel):
    title: Optional[constr(max_length=100)] = Field(
        None,
        description='Display name for the skill (shows up in the public view)',
        title='Title',
    )
    description: Optional[constr(max_length=1000)] = Field(
        None,
        description='Description of what the skill does (shows up in the public view)',
        title='Description',
    )
    categories: Optional[List[SkillCategory]] = Field(
        None, description='Categories to assign to the skill', title='Categories'
    )
    domains: Optional[List[str]] = Field(
        None, description='Domains/websites this skill interacts with', title='Domains'
    )
    isEnabled: Optional[bool] = Field(
        None,
        description='Whether the skill is enabled for execution',
        title='Isenabled',
    )


class UpdateTaskRequest(BaseModel):
    action: TaskUpdateAction = Field(
        ..., description='The action to perform on the task', title='Action'
    )


class UploadFilePresignedUrlResponse(BaseModel):
    url: str = Field(..., description='The URL to upload the file to.', title='URL')
    method: Literal['POST'] = Field(
        ..., description='The HTTP method to use for the upload.', title='Method'
    )
    fields: Dict[str, str] = Field(
        ...,
        description='The form fields to include in the upload request.',
        title='Fields',
    )
    fileName: str = Field(
        ...,
        description='The name of the file to upload (should be referenced when user wants to use the file in a task).',
        title='File Name',
    )
    expiresIn: int = Field(
        ...,
        description='The number of seconds until the presigned URL expires.',
        title='Expires In',
    )


class ContentType(Enum):
    image_jpg = 'image/jpg'
    image_jpeg = 'image/jpeg'
    image_png = 'image/png'
    image_gif = 'image/gif'
    image_webp = 'image/webp'
    image_svg_xml = 'image/svg+xml'
    application_pdf = 'application/pdf'
    application_msword = 'application/msword'
    application_vnd_openxmlformats_officedocument_wordprocessingml_document = (
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
    )
    application_vnd_ms_excel = 'application/vnd.ms-excel'
    application_vnd_openxmlformats_officedocument_spreadsheetml_sheet = (
        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
    )
    text_plain = 'text/plain'
    text_csv = 'text/csv'
    text_markdown = 'text/markdown'


class UploadFileRequest(BaseModel):
    fileName: constr(min_length=1, max_length=255) = Field(
        ..., description='The name of the file to upload', title='File Name'
    )
    contentType: ContentType = Field(
        ..., description='The content type of the file to upload', title='Content Type'
    )
    sizeBytes: conint(ge=1, le=10485760) = Field(..., title='Sizebytes')


class ValidationError(BaseModel):
    loc: List[Union[str, int]] = Field(..., title='Location')
    msg: str = Field(..., title='Message')
    type: str = Field(..., title='Error Type')


class AppEndpointsApiV2SkillsViewsInsufficientCreditsError(BaseModel):
    detail: Optional[str] = Field('Insufficient credits', title='Detail')


class CommonUtilsErrorsInsufficientCreditsError(BaseModel):
    detail: Optional[str] = Field('You have insufficient credits', title='Detail')


class AccountView(BaseModel):
    name: Optional[str] = Field(None, description='The name of the user', title='Name')
    totalCreditsBalanceUsd: float = Field(
        ..., description='The total credits balance in USD', title='Credits Balance USD'
    )
    monthlyCreditsBalanceUsd: float = Field(
        ...,
        description='Monthly subscription credits balance in USD',
        title='Monthly Credits Balance USD',
    )
    additionalCreditsBalanceUsd: float = Field(
        ...,
        description='Additional top-up credits balance in USD',
        title='Additional Credits Balance USD',
    )
    rateLimit: int = Field(
        ..., description='The rate limit for the account', title='Rate Limit'
    )
    planInfo: PlanInfo = Field(
        ..., description='The plan information', title='Plan Info'
    )
    projectId: UUID = Field(
        ..., description='The ID of the project', title='Project ID'
    )


class BrowserSessionItemView(BaseModel):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    id: UUID = Field(..., description='Unique identifier for the session', title='ID')
    status: BrowserSessionStatus = Field(
        ...,
        description='Current status of the session (active/stopped)',
        title='Status',
    )
    liveUrl: Optional[str] = Field(
        None,
        description='URL where the browser can be viewed live in real-time',
        title='Live URL',
    )
    cdpUrl: Optional[str] = Field(
        None,
        description='Chrome DevTools Protocol URL for browser automation',
        title='CDP URL',
    )
    timeoutAt: AwareDatetime = Field(
        ..., description='Timestamp when the session will timeout', title='Timeout At'
    )
    startedAt: AwareDatetime = Field(
        ...,
        description='Timestamp when the session was created and started',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp when the session was stopped (None if still active)',
        title='Finished At',
    )
    proxyUsedMb: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Amount of proxy data used in MB', title='Proxy Used MB'
    )
    proxyCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of proxy usage in USD', title='Proxy Cost'
    )
    browserCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of browser session hosting in USD', title='Browser Cost'
    )


class BrowserSessionListResponse(BaseModel):
    items: List[BrowserSessionItemView] = Field(
        ...,
        description='List of browser session views for the current page',
        title='Items',
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class CreateBrowserSessionRequest(BaseModel):
    profileId: Optional[UUID] = Field(
        None,
        description='The ID of the profile to use for the session',
        title='Profile ID',
    )
    proxyCountryCode: Optional[ProxyCountryCode] = Field(
        None, description='Country code for proxy location.', title='Proxy Country Code'
    )
    timeout: Optional[int] = Field(
        60,
        description='The timeout for the session in minutes. All users can use up to 240 minutes (4 hours). Pay As You Go users are charged $0.06/hour, subscribers get 50% off.',
        title='Timeout',
    )
    browserScreenWidth: Optional[conint(ge=320, le=6144)] = Field(
        None,
        description='Custom screen width in pixels for the browser.',
        title='Browser Screen Width',
    )
    browserScreenHeight: Optional[conint(ge=320, le=3456)] = Field(
        None,
        description='Custom screen height in pixels for the browser.',
        title='Browser Screen Height',
    )
    allowResizing: Optional[bool] = Field(
        False,
        description='Whether to allow the browser to be resized during the session (not recommended since it reduces stealthiness).',
        title='Allow Resizing',
    )
    customProxy: Optional[CustomProxy] = Field(
        None,
        description='Custom proxy settings to use for the session. If not provided, our proxies will be used. Custom proxies are only available for Business and Scaleup subscribers.',
        title='Custom Proxy',
    )


class CreateSessionRequest(BaseModel):
    profileId: Optional[UUID] = Field(
        None,
        description='The ID of the profile to use for the session',
        title='Profile ID',
    )
    proxyCountryCode: Optional[ProxyCountryCode] = Field(
        None, description='Country code for proxy location.', title='Proxy Country Code'
    )
    startUrl: Optional[str] = Field(
        None,
        description='URL to navigate to when the session starts.',
        title='Start URL',
    )
    browserScreenWidth: Optional[conint(ge=320, le=6144)] = Field(
        None,
        description='Custom screen width in pixels for the browser.',
        title='Browser Screen Width',
    )
    browserScreenHeight: Optional[conint(ge=320, le=3456)] = Field(
        None,
        description='Custom screen height in pixels for the browser.',
        title='Browser Screen Height',
    )
    persistMemory: Optional[bool] = Field(
        True,
        description='If True (default), tasks in this session share memory and history with each other, allowing follow-up tasks to continue from previous context. If False, each task runs as a standalone task without any previous task context.',
        title='Persist Memory',
    )
    keepAlive: Optional[bool] = Field(
        True,
        description='If True (default), the browser session stays alive after tasks complete, allowing follow-up tasks. If False, the session is closed immediately after task completion. Set to False for simple one-off tasks to reduce session idle time.',
        title='Keep Alive',
    )
    customProxy: Optional[CustomProxy] = Field(
        None,
        description='Custom proxy settings to use for the session. If not provided, our proxies will be used. Custom proxies are only available for Business and Scaleup subscribers.',
        title='Custom Proxy',
    )


class CreateTaskRequest(BaseModel):
    task: constr(min_length=1, max_length=50000) = Field(
        ..., description='The task prompt/instruction for the agent.', title='Task'
    )
    llm: Optional[SupportedLLMs] = Field(
        'browser-use-2.0',
        description='The LLM model to use for the agent.',
        title='LLM',
    )
    startUrl: Optional[str] = Field(
        None, description='The URL to start the task from.', title='Start URL'
    )
    maxSteps: Optional[conint(ge=1, le=10000)] = Field(
        100,
        description='Maximum number of steps the agent can take before stopping.',
        title='Max Steps',
    )
    structuredOutput: Optional[str] = Field(
        None,
        description='The stringified JSON schema for the structured output.',
        title='Structured Output',
    )
    sessionId: Optional[UUID] = Field(
        None,
        description='The ID of the session where the task will run.',
        title='Session ID',
    )
    metadata: Optional[Dict[str, str]] = Field(
        None,
        description='The metadata for the task. Up to 10 key-value pairs.',
        title='Metadata',
    )
    secrets: Optional[Dict[str, str]] = Field(
        None,
        description='The secrets for the task. Allowed domains are not required for secrets to be injected, but are recommended.',
        title='Secrets',
    )
    allowedDomains: Optional[List[str]] = Field(
        None, description='The allowed domains for the task.', title='Allowed Domains'
    )
    opVaultId: Optional[str] = Field(
        None,
        description='The ID of the 1Password vault to use for the task. This is used to inject secrets into the task.',
        title='1Password Vault ID',
    )
    highlightElements: Optional[bool] = Field(
        False,
        description='Tells the agent to highlight interactive elements on the page.',
        title='Highlight Elements',
    )
    flashMode: Optional[bool] = Field(
        False, description='Whether agent flash mode is enabled.', title='Flash Mode'
    )
    thinking: Optional[bool] = Field(
        False, description='Whether agent thinking mode is enabled.', title='Thinking'
    )
    vision: Optional[Union[bool, str]] = Field(
        True,
        description="Whether agent vision capabilities are enabled. Set to 'auto' to let the agent decide based on the model capabilities.",
        title='Vision',
    )
    systemPromptExtension: Optional[constr(max_length=2000)] = Field(
        '',
        description='Optional extension to the agent system prompt.',
        title='System Prompt Extension',
    )
    judge: Optional[bool] = Field(
        False,
        description='Enable judge mode to evaluate task completion against ground truth.',
        title='Judge',
    )
    judgeGroundTruth: Optional[constr(max_length=10000)] = Field(
        None,
        description='Expected answer for judge evaluation.',
        title='Judge Ground Truth',
    )
    judgeLlm: Optional[SupportedLLMs] = Field(
        None,
        description='The LLM model to use for judging. If not provided, uses the default judge LLM.',
        title='Judge LLM',
    )
    skillIds: Optional[List[str]] = Field(
        None,
        description="List of skill IDs to enable for this task. Use ['*'] to enable all available skills for the project.",
        title='Skill IDs',
    )


class HTTPValidationError(BaseModel):
    detail: Optional[List[ValidationError]] = Field(None, title='Detail')


class ParameterSchema(BaseModel):
    name: str = Field(..., title='Name')
    type: ParameterType
    required: Optional[bool] = Field(True, title='Required')
    description: Optional[str] = Field(None, title='Description')
    default: Any = Field(None, title='Default')
    cookieDomain: Optional[str] = Field(None, title='Cookiedomain')


class ProfileListResponse(BaseModel):
    items: List[ProfileView] = Field(
        ..., description='List of profile views for the current page', title='Items'
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class SessionItemView(BaseModel):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    id: UUID = Field(..., description='Unique identifier for the session', title='ID')
    status: SessionStatus = Field(
        ...,
        description='Current status of the session (active/stopped)',
        title='Status',
    )
    liveUrl: Optional[str] = Field(
        None,
        description='URL where the browser can be viewed live in real-time',
        title='Live URL',
    )
    startedAt: AwareDatetime = Field(
        ...,
        description='Timestamp when the session was created and started',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp when the session was stopped (None if still active)',
        title='Finished At',
    )
    persistMemory: bool = Field(
        ...,
        description='Whether tasks in this session share memory and history with each other',
        title='Persist Memory',
    )
    keepAlive: bool = Field(
        ...,
        description='Whether the browser session stays alive after tasks complete',
        title='Keep Alive',
    )
    proxyUsedMb: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Amount of proxy data used in MB', title='Proxy Used MB'
    )
    proxyCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of proxy usage in USD', title='Proxy Cost'
    )


class SessionListResponse(BaseModel):
    items: List[SessionItemView] = Field(
        ..., description='List of session views for the current page', title='Items'
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class SkillExecutionListResponse(BaseModel):
    items: List[SkillExecutionView] = Field(
        ..., description='List of executions', title='Items'
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class SkillResponse(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the skill', title='ID')
    slug: Optional[str] = Field(
        None, description='URL-friendly slug for the skill', title='Slug'
    )
    title: str = Field(
        ...,
        description='Title of the skill (shows up in the public view)',
        title='Title',
    )
    description: str = Field(
        ...,
        description='Description of the skill (shows up in the public view)',
        title='Description',
    )
    categories: List[SkillCategory] = Field(
        ..., description='Categories of the skill', title='Categories'
    )
    domains: List[str] = Field(
        ..., description='Domains/websites this skill interacts with', title='Domains'
    )
    goal: Optional[str] = Field(
        None,
        description='Goal of the skill (not shown in the public view)',
        title='Goal',
    )
    agentPrompt: Optional[str] = Field(
        None,
        description='Prompt for the agent to use when generating the skill automatically (not shown in the public view)',
        title='Agent Prompt',
    )
    status: SkillsGenerationStatus = Field(
        ..., description='Status of the skill', title='Status'
    )
    parameters: List[ParameterSchema] = Field(
        ..., description='Input parameters of the skill', title='Parameters'
    )
    outputSchema: Dict[str, Any] = Field(
        ..., description='Output schema of the skill', title='Output Schema'
    )
    isEnabled: bool = Field(
        ..., description='Whether the skill is enabled', title='Enabled'
    )
    isPublic: bool = Field(
        ..., description='Whether the skill is publicly available', title='Is Public'
    )
    iconUrl: Optional[str] = Field(
        None, description='URL of the custom skill icon', title='Icon URL'
    )
    firstPublishedAt: Optional[AwareDatetime] = Field(
        None,
        description='When the skill was first published',
        title='First Published At',
    )
    lastPublishedAt: Optional[AwareDatetime] = Field(
        None, description='When the skill was last published', title='Last Published At'
    )
    currentVersion: Optional[int] = Field(
        ..., description='Current version of the skill', title='Current Version'
    )
    currentVersionStartedAt: Optional[AwareDatetime] = Field(
        None,
        description='When the current version started generating',
        title='Current Version Started At',
    )
    currentVersionFinishedAt: Optional[AwareDatetime] = Field(
        None,
        description='When the current version finished generating',
        title='Current Version Finished At',
    )
    code: Optional[str] = Field(
        None,
        description='Base64 encoded generated code (contact support@browser-use.com to get access) - ENTERPRISE ONLY',
        title='Code (base64 encoded) - ENTERPRISE ONLY',
    )
    clonedFromSkillId: Optional[UUID] = Field(
        None,
        description='Unique identifier for the skill this skill was cloned from',
        title='Cloned From Skill ID',
    )
    createdAt: AwareDatetime = Field(
        ..., description='Creation timestamp', title='Created At'
    )
    updatedAt: AwareDatetime = Field(
        ..., description='Last update timestamp', title='Updated At'
    )


class TaskItemView(BaseModel):
    model_config = ConfigDict(regex_engine="python-re")

    id: UUID = Field(..., description='Unique identifier for the task', title='ID')
    sessionId: UUID = Field(
        ..., description='ID of the session this task belongs to', title='Session ID'
    )
    llm: str = Field(
        ...,
        description='The LLM model used for this task represented as a string',
        title='LLM',
    )
    task: str = Field(
        ..., description='The task prompt/instruction given to the agent', title='Task'
    )
    status: TaskStatus
    createdAt: AwareDatetime = Field(
        ...,
        description='Naive UTC timestamp when the task was created',
        title='Created At',
    )
    startedAt: Optional[AwareDatetime] = Field(
        None,
        description='Naive UTC timestamp when the task was started (None if task has not started yet)',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Naive UTC timestamp when the task completed (None if still running)',
        title='Finished At',
    )
    metadata: Optional[Dict[str, Any]] = Field(
        {},
        description='Optional additional metadata associated with the task set by the user',
        title='Metadata',
    )
    output: Optional[str] = Field(
        None, description='Final output/result of the task', title='Output'
    )
    browserUseVersion: Optional[str] = Field(
        None,
        description='Version of browser-use used for this task (older tasks may not have this set)',
        title='Browser Use Version',
    )
    isSuccess: Optional[bool] = Field(
        None,
        description='Whether the task was successful (self-reported by the agent)',
        title='Is Success',
    )
    judgement: Optional[str] = Field(
        None,
        description='Stringified JSON object containing the full report from the judge',
        title='Judgement',
    )
    judgeVerdict: Optional[bool] = Field(
        None,
        description='Judge verdict - True if the judge found the task to be successful, False otherwise (None if judge is not enabled)',
        title='Judge Verdict',
    )
    cost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        None,
        description='Total cost of the task in USD. This is the sum of all step costs incurred during task execution.',
        title='Cost',
    )
    suggestions: Optional[List[Dict[str, Any]]] = Field(
        None,
        description='List of actionable suggestions for improving task configuration based on detected issues during execution.',
        title='Suggestions',
    )


class TaskListResponse(BaseModel):
    items: List[TaskItemView] = Field(
        ..., description='List of task views for the current page', title='Items'
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class MarketplaceSkillResponse(BaseModel):
    id: UUID = Field(..., description='Unique identifier for the skill', title='ID')
    slug: str = Field(..., description='URL-friendly slug for the skill', title='Slug')
    title: str = Field(
        ...,
        description='Title of the skill (shows up in the public view)',
        title='Title',
    )
    description: str = Field(
        ...,
        description='Description of the skill (shows up in the public view)',
        title='Description',
    )
    categories: List[SkillCategory] = Field(
        ..., description='Categories of the skill', title='Categories'
    )
    domains: List[str] = Field(
        ..., description='Domains/websites this skill interacts with', title='Domains'
    )
    parameters: List[ParameterSchema] = Field(
        ..., description='Input parameters of the skill', title='Parameters'
    )
    outputSchema: Dict[str, Any] = Field(
        ..., description='Output schema of the skill', title='Output Schema'
    )
    currentVersion: Optional[int] = Field(
        ..., description='Current version of the skill', title='Current Version'
    )
    isOfficial: bool = Field(
        ...,
        description='Whether the skill is official (verified by Browser Use)',
        title='Is Official',
    )
    cloneCount: int = Field(
        ...,
        description='Number of times this skill has been cloned',
        title='Clone Count',
    )
    iconUrl: Optional[str] = Field(
        None, description='URL of the custom skill icon', title='Icon URL'
    )
    firstPublishedAt: AwareDatetime = Field(
        ...,
        description='When the skill was first published',
        title='First Published At',
    )
    lastPublishedAt: AwareDatetime = Field(
        ..., description='When the skill was last published', title='Last Published At'
    )
    createdAt: AwareDatetime = Field(
        ..., description='Creation timestamp', title='Created At'
    )
    updatedAt: AwareDatetime = Field(
        ..., description='Last update timestamp', title='Updated At'
    )


class SessionView(BaseModel):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    id: UUID = Field(..., description='Unique identifier for the session', title='ID')
    status: SessionStatus = Field(
        ...,
        description='Current status of the session (active/stopped)',
        title='Status',
    )
    liveUrl: Optional[str] = Field(
        None,
        description='URL where the browser can be viewed live in real-time',
        title='Live URL',
    )
    startedAt: AwareDatetime = Field(
        ...,
        description='Timestamp when the session was created and started',
        title='Started At',
    )
    finishedAt: Optional[AwareDatetime] = Field(
        None,
        description='Timestamp when the session was stopped (None if still active)',
        title='Finished At',
    )
    tasks: List[TaskItemView] = Field(
        ..., description='List of tasks associated with this session', title='Tasks'
    )
    publicShareUrl: Optional[str] = Field(
        None,
        description='Optional URL to access the public share of the session',
        title='Public Share URL',
    )
    persistMemory: Optional[bool] = Field(
        True,
        description='Whether tasks in this session share memory and history with each other',
        title='Persist Memory',
    )
    keepAlive: Optional[bool] = Field(
        True,
        description='Whether the browser session stays alive after tasks complete',
        title='Keep Alive',
    )
    proxyUsedMb: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Amount of proxy data used in MB', title='Proxy Used MB'
    )
    proxyCost: Optional[constr(pattern=r'^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$')] = Field(
        '0', description='Cost of proxy usage in USD', title='Proxy Cost'
    )


class SkillListResponse(BaseModel):
    items: List[SkillResponse] = Field(..., description='List of skills', title='Items')
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )


class MarketplaceSkillListResponse(BaseModel):
    items: List[MarketplaceSkillResponse] = Field(
        ..., description='List of skills', title='Items'
    )
    totalItems: int = Field(
        ..., description='Total number of items in the list', title='Total Items'
    )
    pageNumber: int = Field(..., description='Page number', title='Page Number')
    pageSize: int = Field(
        ..., description='Number of items per page', title='Page Size'
    )
